{"ast":null,"code":"import _wrapRegExp from\"Z:/Projects/Tweet/tweets-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/wrapRegExp\";import _slicedToArray from\"Z:/Projects/Tweet/tweets-web/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useState}from'react';import{ActionBtn}from'./buttons';export function ParentTweet(props){var tweet=props.tweet;return tweet.parent?/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-11 mx-auto p-3 border rounded\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"mb-0 text-muted small\",children:\"Retweet\"}),/*#__PURE__*/_jsx(Tweet,{hideActions:true,className:' ',tweet:tweet.parent})]})}):null;}export function Tweet(props){var tweet=props.tweet,didRetweet=props.didRetweet,hideActions=props.hideActions;var _useState=useState(props.tweet?props.tweet:null),_useState2=_slicedToArray(_useState,2),actionTweet=_useState2[0],setActionTweet=_useState2[1];var className=props.className?props.className:'col-10 mx-auto col-md-6';var path=window.location.pathname;var match=path.match(/*#__PURE__*/_wrapRegExp(/([0-9]+)/,{tweetid:1}));var urlTweetId=match?match.groups.tweetid:-1;var isDetail=\"\".concat(tweet.id)===\"\".concat(urlTweetId);var handleLink=function handleLink(event){event.preventDefault();window.location.href=\"/\".concat(tweet.id);};var handlePerformAction=function handlePerformAction(newActionTweet,status){if(status===200){setActionTweet(newActionTweet);}else if(status===201){if(didRetweet){didRetweet(newActionTweet);}}};return/*#__PURE__*/_jsxs(\"div\",{className:className,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"p\",{children:[tweet.id,\" - \",tweet.content]}),/*#__PURE__*/_jsx(ParentTweet,{tweet:tweet})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"btn btn-group\",children:[actionTweet&&hideActions!==true&&/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(ActionBtn,{tweet:actionTweet,didPerformAction:handlePerformAction,action:{type:\"like\",display:\"Likes\"}}),/*#__PURE__*/_jsx(ActionBtn,{tweet:actionTweet,didPerformAction:handlePerformAction,action:{type:\"unlike\",display:\"Unlike\"}}),/*#__PURE__*/_jsx(ActionBtn,{tweet:actionTweet,didPerformAction:handlePerformAction,action:{type:\"retweet\",display:\"Retweet\"}})]}),isDetail===true?null:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-primary btn-sm\",onClick:handleLink,children:\"View\"})]})]});}","map":{"version":3,"sources":["Z:/Projects/Tweet/tweets-web/src/tweets/detail.js"],"names":["React","useState","ActionBtn","ParentTweet","props","tweet","parent","Tweet","didRetweet","hideActions","actionTweet","setActionTweet","className","path","window","location","pathname","match","urlTweetId","groups","tweetid","isDetail","id","handleLink","event","preventDefault","href","handlePerformAction","newActionTweet","status","content","type","display"],"mappings":"wXAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA+B,OAA/B,CAEA,OAAQC,SAAR,KAAwB,WAAxB,CAGA,MAAO,SAASC,CAAAA,WAAT,CAAqBC,KAArB,CAA2B,IACvBC,CAAAA,KADuB,CACdD,KADc,CACvBC,KADuB,CAE9B,MAAOA,CAAAA,KAAK,CAACC,MAAN,cAAe,YAAK,SAAS,CAAC,KAAf,uBACtB,aAAK,SAAS,CAAC,mCAAf,wBACE,UAAG,SAAS,CAAC,uBAAb,qBADF,cAEE,KAAC,KAAD,EAAO,WAAW,KAAlB,CAAmB,SAAS,CAAE,GAA9B,CAAmC,KAAK,CAAED,KAAK,CAACC,MAAhD,EAFF,GADsB,EAAf,CAKE,IALT,CAMD,CACD,MAAO,SAASC,CAAAA,KAAT,CAAeH,KAAf,CAAsB,IAClBC,CAAAA,KADkB,CACgBD,KADhB,CAClBC,KADkB,CACXG,UADW,CACgBJ,KADhB,CACXI,UADW,CACCC,WADD,CACgBL,KADhB,CACCK,WADD,eAEaR,QAAQ,CAACG,KAAK,CAACC,KAAN,CAAcD,KAAK,CAACC,KAApB,CAA4B,IAA7B,CAFrB,wCAElBK,WAFkB,eAELC,cAFK,eAGzB,GAAMC,CAAAA,SAAS,CAAGR,KAAK,CAACQ,SAAN,CAAkBR,KAAK,CAACQ,SAAxB,CAAoC,yBAAtD,CACA,GAAMC,CAAAA,IAAI,CAAGC,MAAM,CAACC,QAAP,CAAgBC,QAA7B,CACA,GAAMC,CAAAA,KAAK,CAAGJ,IAAI,CAACI,KAAL,0BAAW,UAAX,cAAd,CACA,GAAMC,CAAAA,UAAU,CAAGD,KAAK,CAAGA,KAAK,CAACE,MAAN,CAAaC,OAAhB,CAA0B,CAAC,CAAnD,CAIA,GAAMC,CAAAA,QAAQ,CAAG,UAAGhB,KAAK,CAACiB,EAAT,cAAqBJ,UAArB,CAAjB,CACA,GAAMK,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,KAAD,CAAW,CAC1BA,KAAK,CAACC,cAAN,GACAX,MAAM,CAACC,QAAP,CAAgBW,IAAhB,YAA2BrB,KAAK,CAACiB,EAAjC,EACH,CAHD,CAKA,GAAMK,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,CAACC,cAAD,CAAiBC,MAAjB,CAA4B,CACtD,GAAIA,MAAM,GAAK,GAAf,CAAmB,CACjBlB,cAAc,CAACiB,cAAD,CAAd,CACD,CAFD,IAEO,IAAIC,MAAM,GAAK,GAAf,CAAoB,CACzB,GAAIrB,UAAJ,CAAe,CACbA,UAAU,CAACoB,cAAD,CAAV,CACD,CACF,CAEF,CATD,CAWA,mBAAO,aAAK,SAAS,CAAEhB,SAAhB,wBACC,oCACE,qBAAIP,KAAK,CAACiB,EAAV,OAAiBjB,KAAK,CAACyB,OAAvB,GADF,cAEE,KAAC,WAAD,EAAa,KAAK,CAAEzB,KAApB,EAFF,GADD,cAKF,aAAK,SAAS,CAAC,eAAf,WACEK,WAAW,EAAID,WAAW,GAAK,IAAhC,eAAyC,MAAC,KAAD,CAAO,QAAP,yBACnC,KAAC,SAAD,EAAW,KAAK,CAAEC,WAAlB,CAA+B,gBAAgB,CAAEiB,mBAAjD,CAAsE,MAAM,CAAE,CAACI,IAAI,CAAE,MAAP,CAAeC,OAAO,CAAC,OAAvB,CAA9E,EADmC,cAEnC,KAAC,SAAD,EAAW,KAAK,CAAEtB,WAAlB,CAA+B,gBAAgB,CAAEiB,mBAAjD,CAAsE,MAAM,CAAE,CAACI,IAAI,CAAE,QAAP,CAAiBC,OAAO,CAAC,QAAzB,CAA9E,EAFmC,cAGnC,KAAC,SAAD,EAAW,KAAK,CAAEtB,WAAlB,CAA+B,gBAAgB,CAAEiB,mBAAjD,CAAsE,MAAM,CAAE,CAACI,IAAI,CAAE,SAAP,CAAkBC,OAAO,CAAC,SAA1B,CAA9E,EAHmC,GAD1C,CAOQX,QAAQ,GAAG,IAAX,CAAkB,IAAlB,cAAyB,eAAQ,SAAS,CAAC,gCAAlB,CAAmD,OAAO,CAAEE,UAA5D,kBAPjC,GALE,GAAP,CAgBD","sourcesContent":["import React, {useState}  from 'react'\r\n\r\nimport {ActionBtn} from './buttons'\r\n\r\n\r\nexport function ParentTweet(props){\r\n    const {tweet} = props\r\n    return tweet.parent ? <div className='row'>\r\n    <div className='col-11 mx-auto p-3 border rounded'>\r\n      <p className='mb-0 text-muted small'>Retweet</p>\r\n      <Tweet hideActions className={' '} tweet={tweet.parent} />\r\n    </div>\r\n    </div> : null\r\n  }\r\n  export function Tweet(props) {\r\n      const {tweet, didRetweet, hideActions} = props\r\n      const [actionTweet, setActionTweet] = useState(props.tweet ? props.tweet : null)\r\n      const className = props.className ? props.className : 'col-10 mx-auto col-md-6'\r\n      const path = window.location.pathname\r\n      const match = path.match(/(?<tweetid>\\d+)/)\r\n      const urlTweetId = match ? match.groups.tweetid : -1\r\n      \r\n    \r\n        \r\n      const isDetail = `${tweet.id}` === `${urlTweetId}`\r\n      const handleLink = (event) => {\r\n          event.preventDefault()\r\n          window.location.href = `/${tweet.id}`\r\n      }\r\n\r\n      const handlePerformAction = (newActionTweet, status) => {\r\n        if (status === 200){\r\n          setActionTweet(newActionTweet)\r\n        } else if (status === 201) {\r\n          if (didRetweet){\r\n            didRetweet(newActionTweet)\r\n          }\r\n        }\r\n        \r\n      }\r\n      \r\n      return <div className={className}>\r\n              <div>\r\n                <p>{tweet.id} - {tweet.content}</p>\r\n                <ParentTweet tweet={tweet} />\r\n              </div>\r\n           <div className='btn btn-group'>\r\n           {(actionTweet && hideActions !== true) && <React.Fragment>\r\n                  <ActionBtn tweet={actionTweet} didPerformAction={handlePerformAction} action={{type: \"like\", display:\"Likes\"}}/>\r\n                  <ActionBtn tweet={actionTweet} didPerformAction={handlePerformAction} action={{type: \"unlike\", display:\"Unlike\"}}/>\r\n                  <ActionBtn tweet={actionTweet} didPerformAction={handlePerformAction} action={{type: \"retweet\", display:\"Retweet\"}}/>\r\n                  </React.Fragment>\r\n            }\r\n                  {isDetail===true ? null : <button className='btn btn-outline-primary btn-sm' onClick={handleLink}>View</button>}\r\n                </div>\r\n        \r\n      </div>\r\n    }"]},"metadata":{},"sourceType":"module"}